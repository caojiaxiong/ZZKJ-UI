import{_ as F,i as m,j as y,k as b,l as w,o as l,c as s,e as c,t as _,f as i,n as h,F as N,m as G,p as M,v as H,q,s as E,u as T,x as J,y as K}from"./app-q_sRAC3R.js";const Q=Object.assign({name:"zz-pagination"},{__name:"zz-pagination",props:{pageNumber:{type:Number,default:1},pageSizeArray:{type:Array,default(){return[10,20,30,40,50]}},totalCount:{type:Number,default:0},pageGroup:{type:Number,default:5},layouts:{type:Array,default(){return["next","prev","pages","goto","info"]}}},emits:["jumpPage"],setup(p,{expose:r,emit:g}){r();const e=p,a=m(e.pageNumber),v=m(e.pageSizeArray[0]),t=m(1),k=m(!1),z=m(!1);let P=g;const I=y(()=>e.totalCount>0),u=y(()=>Math.ceil(e.totalCount/v.value)),V=y(()=>{const o=[],d=u.value,j=(e.pageGroup-1)/2;let x=a.value;const n={start:x-j,end:x+j};n.start<1&&(n.end=n.end+(1-n.start),n.start=1),n.end>d&&(n.start=n.start-(n.end-d),n.end=d),n.start<1&&(n.start=1),k.value=n.start>1,z.value=n.end<d;for(let C=n.start;C<=n.end;C++)o.push(C);return o});function B(){a.value>1&&f(a.value-1)}function L(){a.value<u.value&&f(a.value+1)}function O(){a.value=a.value-pageGroup.value>0?a.value-pageGroup.value:1}function U(){a.value=a.value+pageGroup.value<u.value?a.value+pageGroup.value:u.value}function D(o){Number(o)<=0&&(o=1),Number(o)>=u.value&&(o=u.value),f(Number(o))}function f(o){a.value!==o&&(a.value=o,P("jumpPage",{currentPage:a.value,currentSize:v.value}))}b(()=>v.value,(o,d)=>{o!==d&&(a.value>=u.value&&(a.value=u.value),P("jumpPage",{currentPage:a.value,currentSize:v.value}))},{deep:!0}),w(()=>{});const S={props:e,currentPage:a,currentSize:v,jumpPageNumber:t,showPrevMore:k,showNextMore:z,get emit(){return P},set emit(o){P=o},showPageHelper:I,totalPage:u,groupList:V,prevPage:B,nextPage:L,showPrevPage:O,showNextPage:U,goPage:D,jumpPage:f,ref:m,onMounted:w,onUnmounted:E,inject:T,computed:y,watch:b};return Object.defineProperty(S,"__isScriptSetup",{enumerable:!1,value:!0}),S}}),A=p=>(J("data-v-1ca20944"),p=p(),K(),p),R={key:0,class:"page-helper"},W={class:"page-list"},X=["onClick"],Y=["value"],Z={key:6},$=A(()=>c("span",{class:"ml20"},"跳至",-1)),ee={class:"page-jump-to"},ae=A(()=>c("span",null,"页",-1));function te(p,r,g,e,a,v){return l(),s("div",null,[e.showPageHelper?(l(),s("div",R,[c("div",W,[c("span",null,"共"+_(e.totalPage)+"页 / "+_(g.totalCount)+"条",1),e.currentPage!=1?(l(),s("span",{key:0,class:"page-item",onClick:r[0]||(r[0]=t=>e.jumpPage(1))},"首页")):i("",!0),g.layouts.includes("prev")?(l(),s("span",{key:1,class:h(["page-item",{disabled:e.currentPage===1}]),onClick:e.prevPage},"上一页",2)):i("",!0),e.showPrevMore?(l(),s("span",{key:2,class:"page-ellipsis",onClick:e.showPrevPage},"...")):i("",!0),(l(!0),s(N,null,G(e.groupList,t=>(l(),s("span",{class:h(["page-item",{"page-current":e.currentPage===t}]),key:t,onClick:k=>e.jumpPage(t)},_(t),11,X))),128)),e.showNextMore?(l(),s("span",{key:3,class:"page-ellipsis",onClick:e.showNextPage},"...")):i("",!0),g.layouts.includes("next")?(l(),s("span",{key:4,class:h(["page-item",{disabled:e.currentPage===e.totalPage}]),onClick:e.nextPage},"下一页",2)):i("",!0),e.currentPage!=e.totalPage?(l(),s("span",{key:5,class:"page-item",onClick:r[1]||(r[1]=t=>e.jumpPage(e.totalPage))},"末页")):i("",!0),M(c("select",{class:"page-select",onChange:r[2]||(r[2]=t=>e.jumpPage(e.currentPage)),"onUpdate:modelValue":r[3]||(r[3]=t=>e.currentSize=t)},[(l(!0),s(N,null,G(g.pageSizeArray,t=>(l(),s("option",{key:t,value:t},_(t)+"条/页 ",9,Y))),128))],544),[[H,e.currentSize]]),g.layouts.includes("goto")?(l(),s("span",Z,[$,c("span",ee,[M(c("input",{type:"type","onUpdate:modelValue":r[4]||(r[4]=t=>e.jumpPageNumber=t)},null,512),[[q,e.jumpPageNumber]])]),ae,c("span",{class:"page-item jump-go-btn",onClick:r[5]||(r[5]=t=>e.goPage(e.jumpPageNumber))},"GO")])):i("",!0)])])):i("",!0)])}const re=F(Q,[["render",te],["__scopeId","data-v-1ca20944"],["__file","zz-pagination.vue"]]);export{re as default};
